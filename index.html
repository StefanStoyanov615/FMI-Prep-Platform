<!doctype html>
<html lang="bg">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>FMI Prep Platform</title>
        <!-- Linked Global CSS -->
        <link rel="stylesheet" href="css/style.css" />
    </head>
    <body>
        <nav class="navbar">
            <div class="navbar-container">
                <div class="navbar-brand">FMI Prep Platform</div>
            </div>
        </nav>

        <header class="hero">
            <div class="hero-content">
                <h1>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞ –§–ú–ò</h1>
                <p class="hero-subtitle">–†–µ—à–∞–≤–∞–π —Ç–µ—Å—Ç–æ–≤–µ –æ—Ç –≤—Å–∏—á–∫–∏ –≥–æ–¥–∏–Ω–∏ –≤ –µ–¥–Ω–æ –º—è—Å—Ç–æ</p>
            </div>
        </header>

        <main class="main-container">
            <!-- University Exams Section -->
            <section class="exam-section exam-section-uni">
                <div class="section-header">
                    <span class="section-icon">üéì</span>
                    <div class="section-title-group">
                        <h2>–ö–∞–Ω–¥–∏–¥–∞—Ç-—Å—Ç—É–¥–µ–Ω—Ç—Å–∫–∏ –∏–∑–ø–∏—Ç–∏</h2>
                        <p class="section-desc">–í—Ö–æ–¥–Ω–∏ –∏–∑–ø–∏—Ç–∏ –∑–∞ —Ñ–∞–∫—É–ª—Ç–µ—Ç</p>
                    </div>
                </div>
                <div class="exam-grid" id="university-exams"></div>
            </section>

            <!-- Matura Exams Section -->
            <section class="exam-section exam-section-matura">
                <div class="section-header">
                    <span class="section-icon">üìù</span>
                    <div class="section-title-group">
                        <h2>–î—ä—Ä–∂–∞–≤–Ω–∏ –∑—Ä–µ–ª–æ—Å—Ç–Ω–∏ –∏–∑–ø–∏—Ç–∏</h2>
                        <p class="section-desc">–ó–∞–¥–∞—á–∏ –æ—Ç –¥—ä—Ä–∂–∞–≤–Ω–∞—Ç–∞ –º–∞—Ç—É—Ä–∞</p>
                    </div>
                </div>
                <div class="exam-grid" id="matura-exams"></div>
            </section>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <p>&copy; 2025 FMI Prep Platform. –†–∞–∑—Ä–∞–±–æ—Ç–µ–Ω–æ –∑–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–∏.</p>
            </div>
        </footer>

        <script>
            window.onload = async () => {
                try {
                    const res = await fetch("registry.json");
                    const data = await res.json();

                    // Load University Exams
                    const universityExams = data.university || [];
                    const uniContainer = document.getElementById("university-exams");
                    if (universityExams.length === 0) {
                        uniContainer.innerHTML = "<p style='text-align:center; grid-column: 1/-1'>–ù—è–º–∞ –Ω–∞–ª–∏—á–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ</p>";
                    } else {
                        universityExams.forEach((exam) => {
                            const card = document.createElement("a");
                            card.className = "exam-card";
                            card.href = `practice.html?id=${exam.id}`;
                            card.innerHTML = `
                                <div class="exam-year">${exam.year}</div>
                                <div class="exam-arrow">‚ûú</div>
                            `;
                            uniContainer.appendChild(card);
                        });
                    }

                    // Load Matura Exams
                    const maturaExams = data.matura || [];
                    const maturaContainer = document.getElementById("matura-exams");
                    if (maturaExams.length === 0) {
                        maturaContainer.innerHTML =
                            "<p style='text-align:center; grid-column: 1/-1'>–ù—è–º–∞ –Ω–∞–ª–∏—á–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ</p>";
                    } else {
                        maturaExams.forEach((exam) => {
                            const card = document.createElement("a");
                            card.className = "exam-card";
                            card.href = `practice.html?id=${exam.id}`;
                            card.innerHTML = `
                                <div class="exam-year">${exam.year}</div>
                                <div class="exam-arrow">‚ûú</div>
                            `;
                            maturaContainer.appendChild(card);
                        });
                    }
                } catch (e) {
                    console.error("Error loading exams:", e);
                    document.getElementById("university-exams").innerHTML =
                        "<p style='text-align:center'>–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ</p>";
                    document.getElementById("matura-exams").innerHTML =
                        "<p style='text-align:center'>–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ</p>";
                }
            };
        </script>
    </body>
</html>
